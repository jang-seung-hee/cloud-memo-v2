# Cloud Memo 개발 표준 (AI Agent용)

## 프로젝트 개요

**목적**: 10초 만에 기록하고, 3초 만에 다시 꺼내볼 수 있는 실용적인 메모 앱
**기술 스택**: React + TypeScript + TailwindCSS + Firebase + Shadcn UI + heroicon
**개발 단계**: 1차(UI/UX MVP) → 2차(클라우드 확장) → 3차(부가 기능)

## 프로젝트 아키텍처

### 폴더 구조 규칙
- **백엔드 코드**: 반드시 `./backend/` 폴더에만 작성
- **프론트엔드 코드**: 반드시 `./frontend/` 폴더에만 작성
- **금지사항**: 백엔드와 프론트엔드 코드 혼재 금지

### 현재 상태
- ✅ frontend/: React + TypeScript + TailwindCSS + heroicon + lucide-react + react-router-dom
- ❌ backend/: Firebase 설정 필요
- ✅ Shadcn UI: CRA는 공식 미지원, 컴포넌트/스타일 파일을 수동 복사 방식으로 적용

## 코드 표준

### 명명 규칙
- **컴포넌트**: PascalCase (예: `MemoList`, `ImageUpload`)
- **함수**: camelCase (예: `createMemo`, `uploadImage`)
- **상수**: UPPER_SNAKE_CASE (예: `MAX_IMAGE_SIZE`)
- **파일명**: kebab-case (예: `memo-list.tsx`, `image-upload.tsx`)

### TypeScript 규칙
- 모든 컴포넌트는 `.tsx` 확장자 사용
- 인터페이스는 `I` 접두사 사용 (예: `IMemo`, `IUser`)
- 타입 정의는 별도 파일로 분리

### 스타일링 규칙
- **TailwindCSS 필수 사용**: 커스텀 CSS 금지
- **Shadcn UI 컴포넌트 우선 사용**: 직접 구현 금지
- **반응형 필수**: `sm:`, `md:`, `lg:` 브레이크포인트 활용
- **다크모드 지원**: `dark:` 클래스 활용

## 기능 구현 표준

### 메모 CRUD
- **생성**: 제목 + 본문 + 이미지 첨부 + 상용구 삽입
- **조회**: 최신순 정렬, 미리보기 형태
- **수정**: 인라인 편집 또는 모달 편집
- **삭제**: 확인 다이얼로그 필수

### 이미지 처리
- **크기 제한**: 2MB 이하로 압축 후 업로드
- **형식**: JPG, PNG, WebP 지원
- **저장**: Firebase Storage 사용
- **미리보기**: 썸네일 형태로 표시

### 상용구 관리
- **구조**: 제목 + 내용 + 카테고리
- **삽입**: 클릭 시 커서 위치에 즉시 삽입
- **UI**: 모바일에서 슬라이드 패널 형태

### 사용자 인증
- **방식**: Google 로그인 (Firebase Auth)
- **동기화**: 기기 간 자동 동기화
- **권한**: 개인 메모만 접근 가능

## 프레임워크/라이브러리 사용 표준

### Shadcn UI
- **CLI 설치는 불가**: CRA 환경에서는 `npx shadcn-ui init` 명령어가 작동하지 않음.
- **사용 방식**: Button, Card, Dialog, Input, Textarea, Select 등의 컴포넌트를  
  공식 리포지토리에서 직접 복사해 사용하는 방식으로 적용.
- **테마 설정**: TailwindCSS 및 시스템 설정을 통해 라이트/다크 모드 자동 전환을 구현.


### heroicon
- **아이콘**: 모든 아이콘은 heroicon에서 선택
- **크기**: 20x20, 24x24, 32x32 표준 크기 사용
- **스타일**: outline 또는 solid 일관성 유지

### Firebase
- **인증**: Google 로그인만 지원
- **데이터베이스**: Firestore 사용
- **스토리지**: 이미지 파일 저장
- **보안**: 사용자별 데이터 분리

### React Router
- **라우팅**: 메인, 작성, 상세, 설정 페이지
- **네비게이션**: 프로그래밍 방식 라우팅 사용
- **가드**: 인증되지 않은 사용자 리다이렉트

## 워크플로우 표준

### 개발 순서
1. **1차**: UI/UX MVP (3-7일)
   - CRA 환경에 맞춰 Shadcn UI 컴포넌트를 수동 복사 방식으로 적용
   - Tailwind 기반 레이아웃 및 반응형 UI 구현

2. **2차**: 클라우드 확장
   - Firebase 프로젝트 설정
   - 인증 시스템 구현
   - CRUD 기능 완성
   - 이미지 업로드 구현

3. **3차**: 부가 기능
   - 검색, 태그, 폴더
   - 공유, 협업 기능
   - 성능 최적화

### 데이터 플로우
```
사용자 입력 → 폼 검증 → Firebase 저장 → 실시간 동기화 → UI 업데이트
```

## 주요 파일 상호작용 표준

### 동시 수정 필요 파일
- **라우팅 변경 시**: `App.tsx` + `index.tsx` + 관련 컴포넌트
- **Firebase 설정 시**: `firebase.ts` + 환경변수 + 보안 규칙
- **타입 정의 시**: `types/` 폴더 + 사용하는 모든 컴포넌트
- **테마 변경 시**: `tailwind.config.js` + 모든 컴포넌트

### 필수 파일 구조
```
frontend/
├── src/
│   ├── components/
│   │   ├── ui/          # Shadcn UI 컴포넌트
│   │   ├── memo/        # 메모 관련 컴포넌트
│   │   └── common/      # 공통 컴포넌트
│   ├── pages/           # 페이지 컴포넌트
│   ├── hooks/           # 커스텀 훅
│   ├── services/        # Firebase 서비스
│   ├── types/           # TypeScript 타입 정의
│   └── utils/           # 유틸리티 함수
```

## AI 의사결정 표준

### 우선순위 기준
1. **사용자 경험**: 3클릭 이내 액션 완료
2. **성능**: 이미지 압축, 지연 로딩
3. **접근성**: 키보드 네비게이션, 스크린 리더 지원
4. **확장성**: 컴포넌트 재사용성

### 모호한 상황 처리
- **디자인 결정**: PRD의 "군더더기 없는 심플 UI/UX" 원칙 따름
- **기능 우선순위**: 1차 → 2차 → 3차 순서 엄수
- **기술 선택**: PRD 명시 기술 스택 우선 사용

### 에러 처리
- **네트워크 오류**: 재시도 로직 + 사용자 알림
- **인증 오류**: 로그인 페이지로 리다이렉트
- **데이터 오류**: 기본값 설정 + 로깅

## 금지사항

### ❌ 절대 금지
- 백엔드와 프론트엔드 코드 혼재
- Shadcn UI, heroicon 사용하지 않고 직접 구현
- 2MB 이상 이미지 압축 없이 업로드
- Firebase 데이터를 로컬스토리지에 중복 저장
- 영어 UI 텍스트 사용 (한국어 필수)
- 반응형 디자인 고려하지 않은 고정 레이아웃

### ❌ 권장하지 않음
- 커스텀 CSS 작성 (TailwindCSS 사용)
- 복잡한 상태 관리 (Context API 또는 Zustand 권장)
- 불필요한 라이브러리 추가
- 하드코딩된 값 사용 (환경변수 활용)

## 성능 최적화 규칙

### 이미지 최적화
- **압축**: 2MB 이하로 자동 압축
- **포맷**: WebP 우선, JPG/PNG 폴백
- **지연 로딩**: Intersection Observer 사용

### 번들 최적화
- **코드 분할**: React.lazy() 사용
- **트리 쉐이킹**: 사용하지 않는 코드 제거
- **캐싱**: Firebase 캐싱 전략 활용

### 사용자 경험
- **로딩 상태**: 스켈레톤 UI 표시
- **오프라인 지원**: Service Worker 활용
- **접근성**: ARIA 라벨, 키보드 네비게이션

## 테스트 표준

### 단위 테스트
- **컴포넌트**: React Testing Library 사용
- **함수**: Jest + TypeScript
- **커버리지**: 80% 이상 유지

### 통합 테스트
- **Firebase 연동**: 실제 환경 테스트
- **사용자 플로우**: E2E 테스트
- **성능**: Lighthouse 점수 90+ 유지

## 배포 표준

### 환경 설정
- **개발**: localhost:3000
- **스테이징**: Netlify Preview
- **프로덕션**: Netlify Production

### 환경변수
- **Firebase 설정**: .env 파일 사용
- **API 키**: 환경별 분리
- **보안**: 민감한 정보는 환경변수로 관리

## 문서화 규칙

### 코드 주석
- **복잡한 로직**: 상세한 주석 필수
- **API 함수**: JSDoc 형식 사용
- **컴포넌트**: Props 인터페이스 문서화

### README 업데이트
- **새 기능 추가 시**: README.md 즉시 업데이트
- **설치 방법**: 명확한 단계별 가이드
- **환경 설정**: 필수 환경변수 목록

---

**마지막 업데이트**: 2024년 12월
**적용 범위**: Cloud Memo 프로젝트 전체
**준수 대상**: 모든 AI Agent 및 개발자 