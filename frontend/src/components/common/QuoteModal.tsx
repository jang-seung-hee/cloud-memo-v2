import React, { useState, useEffect } from 'react';
import { useDevice } from '../../hooks/useDevice';
import { Button } from '../ui/button';
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '../ui/dialog';
import { X } from 'lucide-react';

// 쇼펜하워 · 니체 · 공자 · 맹자 명언 100선
const philosophicalQuotes = [
  // 쇼펜하워 명언
  "재능은 아무도 맞힐 수 없는 목표를 맞힌다. 천재는 아무도 볼 수 없는 목표를 맞힌다.",
  "동정심은 도덕성의 기초다.",
  "사람은 혼자 있을 때만 진정한 자신일 수 있다.",
  "대부분은 잃음으로써 사물의 가치를 배운다.",
  "모든 사람은 자신의 시야의 한계를 세계의 한계로 여긴다.",
  "자기 안에서 행복을 찾는 것은 어렵다. 하지만 외부에서는 결코 찾을 수 없다.",
  "바보를 위해 글을 쓰는 사람은 언제나 넓은 독자를 얻게 된다.",
  "모든 진실은 세 단계를 거친다. 처음에는 조롱당하고, 그 다음엔 격렬히 반대되며, 마지막에는 자명한 것으로 받아들여진다.",
  "용기 있게 모든 질문에 직면하는 것이 철학자를 만든다.",
  "변화만이 영원하고, 불멸하며, 지속적인 것이다.",
  "인생이란 비용을 감당할 수 없는 사업이다.",
  "우리는 우리 자신을 다른 사람과 같아지기 위해 4분의 3이나 내어준다.",
  "지성이 없는 자에게 지성은 보이지 않는다.",
  "모든 앎과 학문의 기반은 설명할 수 없는 것이다.",
  "인간은 하고싶은 것을 하기는 해도, 하고싶은 것을 하고 싶어할 수는 없다.",
  "위대한 사람은 독수리와 같아서 높은 고독에서 둥지를 튼다.",
  "행복한 삶은 불가능하다. 인간이 이룰 수 있는 최선은 시련과 싸우는 영웅적 삶이다.",
  "슬픔은 충족되지 않은 바람에서 나온다.",
  "매일은 짧은 삶이다.",
  "짐승은 죽음에 대해 죽을 때 처음 듣는다.",
  "사고의 실제 생명은 말로 옮겨질 때까지만 산다.",
  "지식의 성장은 고통의 성장과 상관한다.",
  "가장 강한 신념은 경험에서 나오는 것이 아니라 습관에서 온다.",
  "사람이 자기 안에 무엇을 많이 가지고 있으면 있을수록 남에게 덜 기대하게 된다.",
  "개인의 삶은 끊임없는 투쟁이다.",
  "끝없는 동정심만이 순수한 도덕성을 보증한다.",
  "성공만큼 인정받지 못하는 죄는 없다.",
  "진리의 가장 중요한 순간은 짧게 빛난다.",
  "진리는 스스로 깨달을 때 백배 더 귀하게 여겨진다.",
  "슬픔은 결핍이 아닌, 원하는 것을 갖지 못함에서 나온다.",
  "삶은 극복할 수 없는 고통과 불만으로 가득하다.",
  "운명은 회피할 수 없다.",
  "질서 없는 큰 도서관보다는 잘 정돈된 작은 도서관이 더 유익하다.",
  "진정한 앎은 스스로 사고한 것뿐이다.",
  "동물도 고통받을 수 있기에 도덕의 주체다.",
  "타인에 대한 무관심은 마음의 평온으로 이끈다.",
  "유능한 사상가는 희귀하다. 평범함이 세상의 기준이다.",
  "인류의 불행 대부분은 욕망에서 비롯된다.",
  "의도적으로 모든 질문에 정직하게 답하는 사람이 철학자다.",
  "자기만의 규칙에 따르라.",
  
  // 니체 명언
  "음악 없는 삶은 실수다.",
  "사랑이 없는 게 아니라 우정이 없는 게 불행한 결혼을 만든다.",
  "나를 죽이지 못하는 것이 나를 더욱 강하게 만든다.",
  "네가 괴물을 상대할 때, 스스로 괴물이 되지 않도록 경계하라.",
  "우리는 사랑에 약간의 광기가 있지만, 광기 속에서도 항상 일정한 이유가 존재한다.",
  "진실을 듣지 않으려는 사람들에게는 진실을 말하지 말라.",
  "카오스가 있어야 별이 탄생한다.",
  "네 방식이 있고, 내 방식이 있다. 옳은 길은 없다.",
  "사람들은 환상을 깨고 싶지 않기에 진실을 듣고 싶지 않다.",
  "왜 살아야 하는지 아는 사람은 거의 어떤 고난도 견딜 수 있다.",
  "삶은 고통이다. 살아남으려면 그 고통에서 의미를 찾아야 한다.",
  "사랑 때문에 저질러지는 일은 선악을 넘어서 일어난다.",
  "춤추지 않은 날은 잃어버린 하루다.",
  "나는 남자가 아니다. 나는 다이너마이트다.",
  "운명 없이 자유의지란 상상할 수 없다.",
  "최악의 것은 사소한 생각들이다.",
  "만족이 아닌, 사랑에 익숙해져서 삶을 사랑한다.",
  "높이 날수록 더 작은 존재로 보인다.",
  "인간은 동물과 초인을 잇는 밧줄이다.",
  "심연이 너를 삼키지 못한 것에 감사를 표하라.",
  "존엄은 힘든 삶에서 얻어진다.",
  "믿음 없는 진리가 아니라, 진리 없는 믿음이 인류를 망친다.",
  "높은 도덕은 강한 사람이 이룬다.",
  "별은 누구나 위해 빛나지 않는다. 스스로 빛나야 한다.",
  "자유를 얻기 위해서는 의무에도 '아니오'라고 할 줄 알아야 한다.",
  "우리는 누구보다도 자신의 길을 따라야 한다.",
  "악은 우리 안에 있다.",
  "불합리하다고 하여 존재하지 않는 것은 아니다.",
  "매일 최소 한 번은 춤추지 않은 날을 잃는 날로 여겨라.",
  "인간은 극복해야 할 존재다.",
  "사랑은 변화에 의해 살아남는다.",
  "강한 자만이 살아남는다.",
  "오늘을 사는 것이 곧 삶의 의미다.",
  "괴물을 잡는 이는 스스로를 괴물로 만들지 않도록 조심하라.",
  "모두가 같은 것을 원하고, 다를 생각을 가진 이는 미쳤다 여긴다.",
  "인생은 스스로 의미를 찾아야 한다.",
  "자신을 뛰어넘어라.",
  "자유란 책임을 감당할 용기에서 온다.",
  "자신의 적을 사랑할 수 있어야 한다.",
  "최고의 즐거움은 위험을 감수하는 데 있다.",
  "내 재산은 내 생각이다.",
  "생각의 깊이는 나이를 가리지 않는다.",
  "자신과의 싸움이 가장 값지다.",
  "언제나 질문할 준비가 되어라.",
  "적을 용서하더라도 친구를 경계하라.",
  "인류의 진보는 오해에서 시작된다.",
  "가장 위험한 생각은 자신이 옳다는 확신이다.",
  "운명은 받아들이는 자를 돕는다.",
  "우리 인생에서 반복되는 것은 사랑과 고통이다.",
  
  // 공자 명언
  "군자는 의에 밝고, 소인은 이익에 밝다.",
  "배우고 때때로 익히면 또한 기쁘지 아니한가.",
  "진정한 지혜란 자신이 얼마나 모르는지를 아는 것에 있다.",
  "삼인행(三人行) 즉 필유아사(必有我師): 세 사람이 길을 가면 그 중에 반드시 나의 스승이 있다.",
  "생각만 하고 배우지 않으면 위태롭고, 배우기만 하고 생각하지 않으면 어둡다.",
  "온유·관대·공손·근면·검소, 이것이 곧 군자의 도리이다.",
  "자신에게 엄격하고, 남에게 관대하라.",
  "덕이 있으면 이웃이 모인다.",
  "득의망본(得魚忘筌): 물고기를 잡고 나서는 그물을 잊는다.",
  "과거를 돌아보고, 미래를 대비하라.",
  "자기를 이기고 예를 회복하는 것이 인(仁)이다.",
  "아는 사람은 좋아하는 사람만 못하고, 좋아하는 사람은 즐기는 사람만 못하다.",
  "과(過)를 바로 잡는 데 있어 망설이지 않는다.",
  "군자는 말이 행동을 앞서지 않게 한다.",
  "지혜로운 자는 혼란하지 않고, 인자한 자는 근심하지 않으며, 용감한 자는 두려워하지 않는다.",
  "먼 길은 한 걸음부터 시작된다.",
  "남의 허물을 들추지 말라.",
  "집을 다스리고 나서야 나라를 다스릴 수 있다.",
  "누구나 잘못을 범하나, 잘못을 뉘우치고 고치면 선하다.",
  "무엇이 옳고 그른지에 매달리지 말라. 그 옳고 그름을 따르는 자신을 살펴보라.",
  "공평함은 모든 관계의 기초다.",
  "성실함이 최고의 자본이다.",
  "과유불급(過猶不及): 지나친 것은 모자란 것만 못하다.",
  "임자는 직분을 다하고, 군자는 덕을 베푼다.",
  "지식은 현명함에 이르고, 애씀은 덕에 이른다.",
  
  // 맹자 명언
  "사는 것이 어렵다고 투덜대지 말고, 사는 방법을 되돌아보라.",
  "대장부란 자신을 이기는 사람이다.",
  "인간의 본성은 선하다.",
  "하늘은 스스로 돕는 자를 돕는다.",
  "뜻을 세우는 자가 그 뜻을 이루고, 힘쓰는 자가 그 뜻을 이룬다.",
  "도의에 뜻을 두고, 식욕에 굴복하지 않는다.",
  "백성이 가장 귀하고, 그 다음이 사직이며, 임금은 가장 가볍다.",
  "타고난 성품을 버리면 인간이 아니다.",
  "빛나는 덕은 감추려 해도 숨길 수 없다.",
  "원망만 하는 사람은 결국 이를 이루지 못한다.",
  "끝까지 한결같은 것이 진정한 덕이다.",
  "자신의 잘못을 알았으면 고쳐야 한다.",
  "의로움 없이 이익만 추구하면 나라가 망한다.",
  "작은 이익에 마음을 빼앗기면 큰일을 이루지 못한다.",
  "최선을 다해 사람을 사랑하라.",
  "덕을 닦으면 하늘이 도와준다.",
  "남의 슬픔을 외면하지 말라.",
  "군자는 자기 자신을 돌아본다.",
  "먼저 자신을 변화시키면 세상도 변한다.",
  "작은 약속도 반드시 지켜야 한다.",
  "양심을 속이면 스스로를 잃는다.",
  "함께 하는 것이 지혜이며, 나누는 것이 인이다.",
  "뜻이 높으니 행동도 커진다.",
  "군자는 마음을 굳게 하되 구차하지 않는다.",
  "진정한 부(富)는 덕에 있다."
];

interface QuoteModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export const QuoteModal: React.FC<QuoteModalProps> = ({ isOpen, onClose }) => {
  const { isDesktop } = useDevice();
  const [quote, setQuote] = useState<string>('');

  useEffect(() => {
    if (isOpen && !isDesktop) {
      // 랜덤 명언 선택
      const randomIndex = Math.floor(Math.random() * philosophicalQuotes.length);
      setQuote(philosophicalQuotes[randomIndex]);
    }
  }, [isOpen, isDesktop]);

  // 데스크톱에서는 모달을 표시하지 않음
  if (isDesktop) {
    return null;
  }

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="max-w-md mx-auto p-6 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 border-0 shadow-2xl">
        <DialogHeader className="text-center pb-4">
          <DialogTitle className="text-lg font-semibold text-slate-800 dark:text-slate-200 mb-2">
            오늘의 명언
          </DialogTitle>
          <Button
            variant="ghost"
            size="sm"
            onClick={onClose}
            className="absolute top-4 right-4 h-8 w-8 p-0 hover:bg-slate-200 dark:hover:bg-slate-700"
          >
            <X className="h-4 w-4" />
          </Button>
        </DialogHeader>
        
        <div className="text-center space-y-4">
          <div className="relative">
            <div className="absolute -top-2 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-gradient-to-r from-transparent via-slate-400 to-transparent"></div>
            <blockquote className="text-slate-700 dark:text-slate-300 text-base leading-relaxed italic font-medium px-4 py-6">
              "{quote}"
            </blockquote>
            <div className="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-gradient-to-r from-transparent via-slate-400 to-transparent"></div>
          </div>
          
          <div className="text-xs text-slate-500 dark:text-slate-400 mt-4">
            쇼펜하워 · 니체 · 공자 · 맹자
          </div>
        </div>
        
        <div className="flex justify-center pt-4">
          <Button
            onClick={onClose}
            className="bg-slate-800 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-colors duration-200"
          >
            시작하기
          </Button>
        </div>
      </DialogContent>
    </Dialog>
  );
}; 